(()=>{"use strict";var e={143:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(645),r=n.n(o),a=n(667),s=n.n(a),i=n(755),c=r()((function(e){return e[1]})),l=s()(i.Z);c.push([e.id,".car-box{margin:10px 15px;background:rgba(0,0,0,.4);border-bottom:3px dashed #000;border-radius:15px 15px 0 0}.car-box__controlBtn{width:100px}.car-box__controlBtn+.car-box__controlBtn{margin-right:calc(100% - 200px)}.car-box__title{padding:5px;margin:0 auto}.car-img{width:100px;height:40px;background-image:url("+l+");background-repeat:no-repeat;background-size:cover}.selected{background:rgba(99,12,12,.8);border-radius:15px 15px 0 0}",""]);const d=c},571:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".garage-page{width:100%;height:fit-content;padding:15px 0}.garage__menu{padding:0 15px;margin-bottom:40px}.menu-title{margin:0}",""]);const a=r},949:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".header{height:50px;padding:15px}",""]);const a=r},74:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".nav-btn{padding:10px}.nav-btn.active{border:10px solid #000}",""]);const a=r},192:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,"body{padding:0;margin:0;background:#bada55}",""]);const a=r},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(r[s]=!0)}for(var i=0;i<e.length;i++){var c=[].concat(e[i]);o&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},755:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/carW.svg"},104:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(379),r=n.n(o),a=n(143);r()(a.Z,{insert:"head",singleton:!1});const s=a.Z.locals||{}},721:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(379),r=n.n(o),a=n(571);r()(a.Z,{insert:"head",singleton:!1});const s=a.Z.locals||{}},302:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(379),r=n.n(o),a=n(949);r()(a.Z,{insert:"head",singleton:!1});const s=a.Z.locals||{}},796:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(379),r=n.n(o),a=n(74);r()(a.Z,{insert:"head",singleton:!1});const s=a.Z.locals||{}},404:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(379),r=n.n(o),a=n(192);r()(a.Z,{insert:"head",singleton:!1});const s=a.Z.locals||{}},379:(e,t,n)=>{var o,r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function i(e,t){for(var n={},o=[],r=0;r<e.length;r++){var i=e[r],c=t.base?i[0]+t.base:i[0],l=n[c]||0,d="".concat(c," ").concat(l);n[c]=l+1;var u=s(d),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(a[u].references++,a[u].updater(p)):a.push({identifier:d,updater:v(p,t),references:1}),o.push(d)}return o}function c(e){var t=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var a=n.nc;a&&(o.nonce=a)}if(Object.keys(o).forEach((function(e){t.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(t);else{var s=r(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var l,d=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function u(e,t,n,o){var r=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var a=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function p(e,t,n){var o=n.css,r=n.media,a=n.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var m=null,h=0;function v(e,t){var n,o,r;if(t.singleton){var a=h++;n=m||(m=c(t)),o=u.bind(null,n,a,!1),r=u.bind(null,n,a,!0)}else n=c(t),o=p.bind(null,n,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=i(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<n.length;o++){var r=s(n[o]);a[r].references--}for(var c=i(e,t),l=0;l<n.length;l++){var d=s(n[l]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}n=c}}}},962:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0;const o=n(940),r=n(628),a=n(114),s=n(42),i=n(440),c=n(698);t.App=class{constructor(e){this.appElement=e,this.pageOutlet=new o.BaseComponent("div",["page-outlet"]),this.pageGarage=new r.GaragePage,this.pageWinners=new s.WinnerPage,e.append((new a.HeaderComponent).element),e.append(this.pageOutlet.element),i.router.navigate(c.Route.Garage)}start(){i.router.subscribe((e=>{switch(this.pageOutlet.element.innerHTML="",e){case c.Route.Garage:this.pageOutlet.element.append(this.pageGarage.element);break;case c.Route.Winners:this.pageOutlet.element.append(this.pageWinners.element);break;default:throw new Error("No road!")}}))}}},940:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0,t.BaseComponent=class{constructor(e,t){this.element=document.createElement(e),this.element.classList.add(...t)}}},518:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarBox=void 0,n(104);const o=n(940),r=n(250),a=n(343),s=n(618),i=n(389),c=n(741),l=n(838);class d extends o.BaseComponent{constructor(e){super("div",["car-box"]);const t=new a.CarControl("select","car-box__controlBtn"),n=new a.CarControl("remove","car-box__controlBtn"),o=new a.CarControl("A","car-box__driveBtn"),d=new a.CarControl("B","car-box__stopBtn");d.element.disabled=!0;const u=new r.MenuTitle(e);u.element.classList.add("car-box__title");const p=new s.CarImg;this.element.append(u.element),this.element.append(t.element),this.element.append(n.element),this.element.append(o.element),this.element.append(d.element),this.element.append(p.element),t.element.addEventListener("click",(t=>{var n;const o=window.sessionStorage.getItem("selectedBy");if(o===e||""===o){const o=null===(n=t.target.closest(".car-box"))||void 0===n?void 0:n.id;window.sessionStorage.setItem("selectedBy",`${e}`),this.element.classList.toggle("selected"),o&&("false"===window.sessionStorage.getItem("select")?(0,c.disableUpdate)(!0):(0,c.disableUpdate)(!1,+o))}})),n.element.addEventListener("click",(e=>{var t;const n=e.target,o=null===(t=n.closest(".car-box"))||void 0===t?void 0:t.id;if(o){(0,i.deleteCar)(+o);const e=n.closest(".car-box");e&&(e.style.display="none"),(0,l.reloadContent)()}}))}}t.CarBox=d},343:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarControl=void 0;const o=n(940);class r extends o.BaseComponent{constructor(e,t=""){super("button",["car-control"]),this.element.innerText=e,this.element.classList.add(t)}}t.CarControl=r},618:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarImg=void 0;const o=n(940);class r extends o.BaseComponent{constructor(){super("div",["car-img"])}}t.CarImg=r},389:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function i(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCar=void 0,t.deleteCar=function(e){return n(this,void 0,void 0,(function*(){return yield fetch(`http://127.0.0.1:3000/garage/${e}`,{method:"DELETE"})}))}},741:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.disableUpdate=void 0,t.disableUpdate=function(e,t){const n=document.querySelector(".form__update-car"),o=null==n?void 0:n.querySelector(".form-text"),r=null==n?void 0:n.querySelector(".form-color"),a=null===document||void 0===document?void 0:document.querySelector(".update-car__btn");o&&r&&a&&(o.disabled=e,r.disabled=e,a.disabled=e),window.sessionStorage.setItem("select",`${e}`),e&&window.sessionStorage.setItem("selectedBy",""),window.sessionStorage.setItem("ID",`${t}`)}},435:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function i(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getCars=void 0;const r=n(518);t.getCars=function(e){return o(this,void 0,void 0,(function*(){e.innerHTML="";let t=yield fetch("http://127.0.0.1:3000/garage"),n=yield t.json();const o=document.querySelector(".garage-title");o&&(o.innerText=`Garage (${n.length})`),n.forEach((t=>{const n=new r.CarBox(t.name);n.element.setAttribute("id",t.id),n.element.dataset.name=t.name,n.element.dataset.color=t.color,e.append(n.element)}))}))}},615:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function i(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.postCar=void 0,t.postCar=function(e){return n(this,void 0,void 0,(function*(){return yield fetch("http://127.0.0.1:3000/garage",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}))}},870:function(e,t){var n=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function s(e){try{c(o.next(e))}catch(e){a(e)}}function i(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.putCar=void 0,t.putCar=function(e,t){return n(this,void 0,void 0,(function*(){return yield fetch(`http://127.0.0.1:3000/garage/${t}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}))}},838:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reloadContent=void 0;const o=n(435);t.reloadContent=function(){const e=document.querySelector(".garage-content");e&&(e.innerHTML="",(0,o.getCars)(e))}},931:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GarageContent=void 0;const o=n(940),r=n(435);class a extends o.BaseComponent{constructor(){super("div",["garage-content"]),(0,r.getCars)(this.element)}}t.GarageContent=a,t.default=a},795:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PaginationButton=void 0;const o=n(940);class r extends o.BaseComponent{constructor(e){super("button",["pagination-btn"]),this.element.innerText=e}}t.PaginationButton=r},628:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GaragePage=void 0;const o=n(940),r=n(342);n(721);const a=n(931),s=n(795);class i extends o.BaseComponent{constructor(){super("div",["garage-page"]);const e=new r.MenuBox,t=new a.GarageContent,n=new s.PaginationButton("Prev"),o=new s.PaginationButton("Next"),i=document.createElement("h2");i.classList.add("garage-title"),this.element.append(e.element),this.element.append(i),this.element.append(t.element),this.element.append(n.element),this.element.append(o.element)}}t.GaragePage=i},163:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateButton=void 0;const o=n(940);class r extends o.BaseComponent{constructor(e){super("button",["garage-btn"]),this.element.innerText=e}}t.CreateButton=r},995:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateCar=void 0;const o=n(940),r=n(615),a=n(457),s=n(643);class i extends o.BaseComponent{constructor(){super("form",["form__create-car"]),this.element.method="post",this.element.action="http://127.0.0.1:3000/garage",this.element.autocomplete="off";const e=new s.CreateFormText,t=new a.CreateFormColor;this.element.append(e.element),this.element.append(t.element),this.element.submit=()=>{const n={name:e.element.value,color:t.element.value};return(0,r.postCar)(n),!1}}}t.CreateCar=i},457:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateFormColor=void 0;const o=n(940);class r extends o.BaseComponent{constructor(){super("input",["form-color"]),this.element.type="color",this.element.name="color"}}t.CreateFormColor=r},643:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateFormText=void 0;const o=n(940);class r extends o.BaseComponent{constructor(){super("input",["form-text"]),this.element.type="text",this.element.name="name"}}t.CreateFormText=r},342:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MenuBox=void 0;const o=n(940),r=n(838),a=n(163),s=n(995),i=n(250),c=n(108);class l extends o.BaseComponent{constructor(){super("div",["garage__menu"]);const e=new i.MenuTitle("create car"),t=new s.CreateCar,n=new a.CreateButton("create");n.element.addEventListener("click",(()=>{t.element.submit(),window.location.href="http://localhost:8080/"}));const o=new i.MenuTitle("update car"),l=new c.UpdateCar,d=new a.CreateButton("update");d.element.classList.add("update-car__btn"),d.element.disabled=!0,d.element.addEventListener("click",(()=>{l.element.submit(),(0,r.reloadContent)()}));const u=new a.CreateButton("race"),p=new a.CreateButton("reset"),m=new a.CreateButton("generate cars");this.element.append(e.element),this.element.append(t.element),this.element.append(n.element),this.element.append(o.element),this.element.append(l.element),this.element.append(d.element),this.element.append(u.element),this.element.append(p.element),this.element.append(m.element)}}t.MenuBox=l},250:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MenuTitle=void 0;const o=n(940);class r extends o.BaseComponent{constructor(e){super("h2",["menu-title"]),this.element.innerText=e}}t.MenuTitle=r},108:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateCar=void 0;const o=n(940),r=n(741),a=n(870),s=n(457),i=n(643);class c extends o.BaseComponent{constructor(){super("form",["form__update-car"]),this.element.autocomplete="off";const e=(new i.CreateFormText).element,t=(new s.CreateFormColor).element;e.disabled=!0,t.disabled=!0,this.element.append(e),this.element.append(t),this.element.submit=()=>{const n={name:e.value,color:t.value},o=window.sessionStorage.getItem("ID");return o&&(0,a.putCar)(n,+o),e.value="",t.value="#000000",(0,r.disableUpdate)(!0),!1}}}t.UpdateCar=c},114:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderComponent=void 0;const o=n(698),r=n(940);n(302);const a=n(115);class s extends r.BaseComponent{constructor(){super("header",["header"]);const e=new a.NavButton("Garage",o.Route.Garage),t=new a.NavButton("Winners",o.Route.Winners);this.element.append(e.element),this.element.append(t.element)}}t.HeaderComponent=s},115:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NavButton=void 0,n(796);const o=n(440),r=n(940);class a extends r.BaseComponent{constructor(e,t){super("button",["nav-btn"]),this.element.innerText=e,this.route=t,this.element.addEventListener("click",(()=>{o.router.navigate(t)})),o.router.subscribe((e=>{e===this.route?this.element.classList.add("active"):this.element.classList.remove("active")}))}}t.NavButton=a},836:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WinnerTitle=void 0;const o=n(940);class r extends o.BaseComponent{constructor(e){super("h2",["winner-title"]),this.element.innerText=e}}t.WinnerTitle=r},42:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WinnerPage=void 0;const o=n(940),r=n(836);class a extends o.BaseComponent{constructor(){super("div",["winner-page"]);const e=new r.WinnerTitle("Winners");this.element.append(e.element)}}t.WinnerPage=a},440:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.router=void 0;const o=n(458);t.router=new o.Router},458:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0,t.Router=class{constructor(){this.activeRoute=document.location.pathname,this.subscribers=[],window.addEventListener("popstate",(()=>{console.log(document.location.pathname),this.notify(document.location.pathname)}))}subscribe(e){return this.subscribers.push(e),e(this.activeRoute),()=>{this.subscribers.splice(this.subscribers.indexOf(e),1)}}getActiveRoute(){return this.activeRoute}navigate(e){e!==this.activeRoute&&(window.history.pushState(null,"",e),this.notify(e))}notify(e){e!==this.activeRoute&&(this.activeRoute=e,this.subscribers.forEach((e=>e(this.activeRoute))))}}},698:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Route=void 0,(n=t.Route||(t.Route={})).Garage="/garage",n.Winners="/winners"}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={id:o,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.nc=void 0,(()=>{n(404);const e=n(962),t=window.sessionStorage;t.setItem("select","true"),t.setItem("selectedBy",""),window.onload=()=>{const t=document.querySelector("#app");if(!t)throw new Error("App element not found!");new e.App(t).start()}})()})();